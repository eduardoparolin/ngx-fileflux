<div class="upload-container">
  <header>
    <span>
      {{ uploadService.status() | uploadQuantityStatus: uploadService.items().length }}
    </span>
    <mat-icon [matTooltip]="'Upload will continue on the background even if you close this dialog'" (click)="miniUploadService.toggle()">close</mat-icon>
  </header>
  <div class="status-container">
    @if (uploadService.items().length > 0) {
      <div class="status-bar">
      <span class="status-text">
        {{ uploadService.status() | uploadStatus }}
      </span>
        @if (getActionText()) {
          <span class="cancel-link">
          {{ getActionText() }}
        </span>
        }
      </div>
    }
  </div>
  <div class="uploads-container">
    @for (item of uploadService.items(); track item.id) {
      <div class="upload-item" (mouseover)="item.hovered = true" (mouseout)="item.hovered = false">
        <div class="item-description">
          <mat-icon>description</mat-icon>
          <span>{{ item.name }}</span>
        </div>
        @if (!item.hovered) {
          <mat-spinner mode="determinate" [value]="item.progress" [diameter]="18"></mat-spinner>
        } @else {
          <mat-icon>cancel</mat-icon>
        }

      </div>
    }
  </div>
</div>
